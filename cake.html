<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>蛋糕</title>
    <link rel="stylesheet" href="./css/pgy-css/bootStarp.css">
    <link rel="stylesheet" href="./css/pgy-css/swiper.min.css">
    <link rel="stylesheet" href="./css/pgy-css/reset.css">
    <link rel="stylesheet" href="./css/pgy-css/cake.css">
    <link rel="stylesheet" href="https://www.layuicdn.com/layui-v2.5.5/css/layui.css">
</head>

<body>
    <div class="cake">
        <!-- 头部 -->
        <header>
            <div class="header-top">
                <div class="wrap">
                    <div class="header-top-left">
                        <span><a href="javascript:;">收藏鲜花网(hua.com)</a></span>
                        <span><a href="javascript:;">关注微信</a></span>
                        <span><a href="javascript:;">花礼网app</a></span>
                    </div>
                    <div class="header-top-right">
                        <ul>
                            <li><a href="javascript:;">你好，请登录
                            <li>注册</li></a></li>
                            <li><a href="javascript:;">订单查询</a></li>
                            <li><a href="javascript:;">我的花礼</a></li>
                            <li><a href="javascript:;">客户服务</a></li>
                            <li class="buy-car"><a href="javascript:;">购物车</a></li>
                            <li>特色礼品-生日礼物</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="search wrap">
                <div class="title1">
                    <h1>花礼网</h1>
                </div>
                <div class="ipt">
                    <input type="text" color="#999" placeholder='商品关键词'>
                    <span>搜索</span>
                </div>
                <div>
                    <span>400-889-8188</span>
                    <span class="top001">|</span>
                    <a href="javascript:;">在线客服</a>
                </div>
            </div>
            <div class="top-nav">
                <div class="wrap">
                    <ul>
                        <li><a href="javascript:;">全部商品导购</a></li>
                        <li><a href="javascript:;">首页</a></li>
                        <li><a href="javascript:;">鲜花</a></li>
                        <li><a href="javascript:;">永生花</a></li>
                        <li><a href="javascript:;">蛋糕</a></li>
                        <li><a href="javascript:;">礼品</a></li>
                        <li><a href="javascript:;">巧克力</a></li>
                        <li><a href="javascript:;">花语大全</a></li>
                        <li><a href="javascript:;">设计师臻选鲜花</a></li>
                        <li><a href="javascript:;">元旦节鲜花礼物</a></li>
                    </ul>
                </div>
            </div>
        </header>

        <!-- 数据渲染 -->
        <div class="city wrap">
            <div class="city-top">
                <div class="hotCity">
                    <h2>热门城市</h2>
                </div>
                <div class="lists">
                    <ul>
                        <li><a href="javascript:;">北京蛋糕</a></li>
                        <li><a href="javascript:;">上海蛋糕</a></li>
                        <li><a href="javascript:;">广州蛋糕</a></li>
                        <li><a href="javascript:;">深圳蛋糕</a></li>
                        <li><a href="javascript:;">天津蛋糕</a></li>
                        <li><a href="javascript:;">重庆蛋糕</a></li>
                        <li><a href="javascript:;">武汉蛋糕</a></li>
                        <li><a href="javascript:;">杭州蛋糕</a></li>
                    </ul>
                    <div>
                        共开通了<span>1000多</span>个城市蛋糕配送
                    </div>
                </div>
            </div>
            <div class="search2">
                <div class="find">
                    <h2>快速查找</h2>
                </div>
                <div class="sel">
                    <select autofocus>
                        <option value="volvo">选择省份</option>
                        <option value="saab">A 安徽</option>
                        <option value="mercedes">B 北京</option>
                        <option value="audi">C 重庆</option>
                        <option value="audi">G 广东</option>
                        <option value="audi">G 广西</option>
                        <option value="audi">G 贵州</option>
                        <option value="audi">C 重庆</option>
                        <option value="audi">G 广东</option>
                        <option value="audi">G 广西</option>
                        <option value="audi">G 贵州</option>
                        <option value="audi">C 重庆</option>
                        <option value="audi">G 广东</option>
                        <option value="audi">G 广西</option>
                        <option value="audi">G 贵州</option>
                        <option value="audi">C 重庆</option>
                        <option value="audi">G 广东</option>
                        <option value="audi">G 广西</option>
                        <option value="audi">G 贵州</option>
                    </select>
                    <select autofocus>
                        <option value="volvo">选择城市</option>
                    </select>
                    <span>进入</span>
                </div>
                <div>
                    <input type="text" name="" id="" placeholder='请输入蛋糕配送城市'>
                </div>
            </div>
            <div class="nav1">
                <div class="chose">
                    <h2>按拼音首字母选择</h2>
                </div>
                <div class="letters">
                    <ul id="letter"></ul>
                </div>
            </div>
            <div class="content" id="content">
                <div class="city-con">
                    <div class="city-left">
                        <h2>华北、东北</h2>
                    </div>
                    <div class="city-right">
                        <ul id="city1"></ul>
                    </div>
                </div>
                <div class="city-con">
                    <div class="city-left">
                        <h2>华东地区</h2>
                    </div>
                    <div class="city-right">
                        <ul id="city2"></ul>
                    </div>
                </div>
                <div class="city-con">
                    <div class="city-left">
                        <h2>华南、东中</h2>
                    </div>
                    <div class="city-right">
                        <ul id="city3"></ul>
                    </div>
                </div>
                <div class="city-con">
                    <div class="city-left">
                        <h2>西南、西北</h2>
                    </div>
                    <div class="city-right">
                        <ul id="city4"></ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- 内容 蛋糕 -->
        <div class="cake-content">

        </div>
        <!-- 数据渲染 结束 -->
        <!-- 底部 -->
        <div class="fool wrap">
            <div class="fool1">
                <p>生日蛋糕&蛋糕常识</p>
                <div>
                    <ul>
                        <li><a href="javascript:;">蛋糕的分类,做法和保存</a></li>
                        <li><a href="javascript:;">蛋糕的起源</a></li>
                        <li><a href="javascript:;">九种蛋糕的做法</a></li>
                        <li><a href="javascript:;">美味蛋糕新做法</a></li>
                        <li><a href="javascript:;">烘焙食品</a></li>
                    </ul>
                    <ul>
                        <li><a href="javascript:;">选择婚礼蛋糕有学问</a></li>
                        <li><a href="javascript:;">生活常识：巧切蛋糕</a></li>
                        <li><a href="javascript:;">微波炉蛋糕的做法</a></li>
                        <li><a href="javascript:;">风俗之结婚蛋糕</a></li>
                        <li><a href="javascript:;">诱人的圣诞节蛋糕</a></li>
                    </ul>
                    <ul>
                        <li><a href="javascript:;">纽约芝士蛋糕的配方与制作</a></li>
                        <li><a href="javascript:;">蓝莓慕斯蛋糕的制作方法</a></li>
                        <li><a href="javascript:;">巧克力慕斯蛋糕的制作方法</a></li>
                        <li><a href="javascript:;">蛋糕的价值</a></li>
                        <li><a href="javascript:;">DIY蛋糕方法</a></li>
                    </ul>
                </div>
            </div>
            <div class="fool2">
                <a href="javascript:;">首页</a>
                <span>|</span>
                <a href="javascript:;">关于我们</a>
                <span>|</span>
                <a href="javascript:;">媒体报道</a>
                <span>|</span>
                <a href="javascript:;">联系方式</a>
                <span>|</span>
                <a href="javascript:;">企业团购</a>
                <span>|</span>
                <a href="javascript:;">花店入驻</a>
                <span>|</span>
                <a href="javascript:;">友情链接</a>
                <span>|</span>
                <a href="javascript:;">在线补款</a>
                <span>|</span>
                <a href="javascript:;">为什么选择中国鲜花礼品网</a>
            </div>
            <div class="fool3">
                <div class="imgs">
                    <img src="./img/pgyimg/fool1.png" height="50" width="212">
                    <img src="./img/pgyimg/fool2.png" height="49" width="150">
                    <img src="./img/pgyimg/fool3.png" alt="ICP" height="46" width="35">
                    <img src="./img/pgyimg/fool4.png" title="深圳市市场监督管理局企业主体身份公示" alt="深圳市市场监督管理局企业主体身份公示">
                </div>
                <p>中国花卉协会会员 中国电子商务协会会员 ICP经营许可证：粤B2-20050744 | 粤ICP备09171662号 粤公网安备44030502000373号 Copyright © 2005-2020
                </p>
                <p>花礼网 （中国鲜花礼品网） www.hua.com 深圳市百易信息技术有限公司 特色礼品、创意礼物专区！</p>
            </div>
        </div>
    </div>

    <script src="./index.js"></script>
    <script src="./js/pgy-js/axios.min.js"></script>
    <script src="./js/pgy-js/cake.js"></script>
    <script src="./js/pgy-js/swiper.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/layui/2.5.7/layui.all.js"></script>
    <script>
        var letter = document.getElementById('letter')
        var city1 = document.getElementById('city1')
        var city2 = document.getElementById('city2')
        var city3 = document.getElementById('city3')
        var city4 = document.getElementById('city4')
        // var cake = document.getElementById('cake-content')

        axios.get('http://localhost:3000/letter').then(res => {
            console.log(res.data.data[0].letter);
            var str = ""
            for (var i = 0; i < res.data.data.length; i++) {
                str += `
                    <li onclick="getLetter()"><a data-id="${res.data.data[i].id}" href="javascript:;">${res.data.data[i].letter}</a></li>
                 `
            }
            letter.innerHTML = str;

            //高亮tab切换的
            var tabList = document.querySelectorAll('#letter li a')
            tabList[0].classList.add('letter-light')
            tabList.forEach(item => {
                item.onclick = function () {
                    for (var i = 0; i < tabList.length; i++) {
                        tabList[i].classList.remove('letter-light')
                    }
                    this.classList.add('letter-light')
                }
            })
            //高亮结束
        }).catch(err => {
            console.log(err);
        })


        function getLetter() {
            // console.log(event.target.dataset.id);
            var id1 = event.target.dataset.id
            var i = event.target.innerText

            getCity(1, city1, id1)
            getCity(2, city2, id1)
            getCity(3, city3, id1)
            getCity(4, city4, id1)
        }


        // 城市渲染
        function getCity(id, name, col) {
            axios.get('http://localhost:3000/city', {
                params: {
                    id,
                }
            }).then(res => {
                // console.log(222, res);
                var str1 = ""
                for (var i = 0; i < res.data.data.length; i++) {
                    str1 += `
                    <li data-color='${col}'><a href="javascript:;>${res.data.data[i].title}</a></li>
                    `
                }
                name.innerHTML = str1;

            }).catch(err => {
                console.log(err);
            })
        }

        getCity(1, city1, 1)
        getCity(2, city2, 2)
        getCity(3, city3, 3)
        getCity(4, city4, 4)

        //主体内容列表数据渲染
        const cake_content = document.querySelector('.cake-content')
        console.log(cake_content);
        for(let i = 1; i < 18; i++){
            list(i)
        }
        function list(num = 1){
            axios.get('http://localhost:3000/cake2',{
                params:{
                    num:num
                }
            }).then(res => {
                console.log(res.data);
            // console.log(res.data.data.length);
            // console.log(111,Math.floor((res.data.data.length)/4));
            var str = ""
            console.log('hello')
            str += `
                    <div>
                        <div class="title007 wrap">
                            <h2>廿一客蛋糕</h2>
                            <p>（可配送北京，上海，广州，深圳，天津，杭州，苏州，无锡）</p>
                            <span>更多廿一客蛋糕 >></span>
                        </div>
                        <div class="cake-wrap wrap">
                `             
            for (var i = 0; i < res.data.data.length; i++) {
                    str += `                     
                        <div class="cake-content1" onclick="jump(${res.data.data[i].id})">
                            <a href="javascript:;">
                                <div class="box">
                                    <img src="${res.data.data[i].url}" alt="">
                                    <p class="price">￥${res.data.data[i].price}</p>
                                    <div class="txt">
                                        <p>${res.data.data[i].title}</p>
                                        <p>${res.data.data[i].power}</p>
                                    </div>
                                    <div class="buy-car001">
                                        <span>${res.data.data[i].collect}</span>    
                                        <span>${res.data.data[i].car}</span>    
                                    </div>
                                </div>
                            </a>
                        </div>         
                                `
               
            }
            str += '</div></div>'

            cake_content.innerHTML += str;

        })
        }

        function jump(i) {
            localStorage.setItem("jump-id", i)
            window.location.href = 'detail-cake.html'
        }
       
    </script>
</body>

</html>